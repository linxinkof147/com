{"version":3,"sources":["webpack:///E:/笔记/HBuilderProjects/【前端完整代码】仿糗事百科/pages/index/index.vue","webpack:///E:/笔记/HBuilderProjects/【前端完整代码】仿糗事百科/pages/index/index.vue?f959","webpack:///E:/笔记/HBuilderProjects/【前端完整代码】仿糗事百科/pages/index/index.vue?f666","webpack:///E:/笔记/HBuilderProjects/【前端完整代码】仿糗事百科/pages/index/index.vue?61f3","webpack:///E:/笔记/HBuilderProjects/【前端完整代码】仿糗事百科/pages/index/index.vue?ab70"],"names":["components","indexList","swiperTabHead","loadMore","noThing","uniNavBar","data","tabIndex","tabBars","newslist","computed","getHeight","height","uni","getSystemInfoSync","windowHeight","upx2px","onLoad","getNav","$on","updateData","onNavigationBarSearchInputClicked","navigateTo","url","onNavigationBarButtonTap","e","index","User","navigate","JSON","stringify","methods","clickLeft","console","log","clickRight","openSearch","type","updateGuanZhu","updateSupport","updateList","updateComment","obj","list","find","value","id","post_id","commentnum","forEach","item","userid","isguanzhu","oldindex","infonum","do","dingnum","cainum","findIndex","val","post_class_id","push","__format","$http","get","err","res","errorCheck","arr","arr2","i","length","name","classname","loadtext","page","firstload","getList","currentIndex","token","error","concat","user","userpic","username","fens","title","titlepic","video","path","share","support","ding_count","cai_count","comment_count","sharenum","loadmore","tabtap","tabChange","detail","current"],"mappings":"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","file":"pages/index/index.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\nimport uniNavBar from \"../../components/uni-nav-bar/uni-nav-bar.vue\";\n\nimport indexList from \"../../components/index/index-list.vue\";\nimport swiperTabHead from \"../../components/index/swiper-tab-head.vue\";\nimport loadMore from \"../../components/common/load-more.vue\";\nimport noThing from \"../../components/common/no-thing.vue\";\nexport default {\n\tcomponents:{\n\t\tindexList,\n\t\tswiperTabHead,\n\t\tloadMore,\n\t\tnoThing,\n\n\t\tuniNavBar\n\n\t},\n\tdata() {\n\t\treturn {\n\t\t\ttabIndex:0,\n\t\t\ttabBars:[],\t\n\t\t\tnewslist:[],\n\t\t}\n\t},\n\tcomputed: {\n\t\tgetHeight() {\n\n\t\t\tlet height = uni.getSystemInfoSync().windowHeight - uni.upx2px(100) - 44;\n\t\t\treturn `height: ${height}px;`;\n\n\t\t}\n\t},\n\tonLoad() {\n\t\tthis.getNav();\n\t\t// 开启监听\n\t\tuni.$on('updateData',this.updateData);\n\t},\n\t// 监听搜索框点击事件\n\tonNavigationBarSearchInputClicked() {\n\t\tuni.navigateTo({\n\t\t\turl: '../search/search',\n\t\t});\n\t},\n\t// 监听原生标题导航按钮点击事件\n\tonNavigationBarButtonTap(e){\n\t\tswitch (e.index){\n\t\t\tcase 1:\n\t\t\t// 打开发布页面\n\t\t\tthis.User.navigate({\n\t\t\t\turl: '../add-input/add-input?postclass='+JSON.stringify(this.tabBars),\n\t\t\t})\n\t\t\t\tbreak;\n\t\t}\n\t},\n\tmethods: {\n\n\t\tclickLeft(){\n\t\t\tconsole.log('左边事件')\n\t\t},\n\t\tclickRight(){\n\t\t\t// 打开发布页面\n\t\t\tthis.User.navigate({\n\t\t\t\turl: '../add-input/add-input?postclass='+JSON.stringify(this.tabBars),\n\t\t\t})\n\t\t},\n\t\topenSearch(){\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '../search/search',\n\t\t\t});\n\t\t},\n\n\t\tupdateData(data){\n\t\t\tswitch (data.type){\n\t\t\t\tcase \"guanzhu\":\n\t\t\t\tthis.updateGuanZhu(data);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"support\":\n\t\t\t\tthis.updateSupport(data);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"updateList\":\n\t\t\t\tthis.updateList(data);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'updateComment':\n\t\t\t\tthis.updateComment(data);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\t// 更新评论数\n\t\tupdateComment(data){\n\t\t\t// 拿到当前对象\n\t\t\tlet obj = this.newslist[this.tabIndex].list.find(value =>{\n\t\t\t\treturn value.id === data.post_id;\n\t\t\t});\n\t\t\tif (!obj) return;\n\t\t\tobj.commentnum++; // 评论数+1\n\t\t},\n\t\t// 更新关注信息\n\t\tupdateGuanZhu(data){\n\t\t\tthis.newslist[this.tabIndex].list.forEach((item,index)=>{\n\t\t\t\tif (item.userid === data.userid) {\n\t\t\t\t\titem.isguanzhu = data.data;\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t// 更新顶踩数据状态\n\t\tupdateSupport(data){\n\t\t\t// 拿到当前对象\n\t\t\tlet obj = this.newslist[this.tabIndex].list.find(value =>{\n\t\t\t\treturn value.id === data.post_id;\n\t\t\t});\n\t\t\tif (!obj) return;\n\t\t\tlet oldindex = obj.infonum.index; // 操作前的状态\n\t\t\tobj.infonum.index = (data.do == 'ding') ? 1 : 2; // 操作后的状态\n\t\t\tif (oldindex !== 0) { //之前操作过\n\t\t\t\toldindex == 1 ? obj.infonum.dingnum-- : obj.infonum.cainum--;\n\t\t\t}\n\t\t\tif (obj.infonum.index !== 0) {  // 当前操作\n\t\t\t\tobj.infonum.index == 1 \n\t\t\t\t\t? obj.infonum.dingnum++ : obj.infonum.cainum++;\n\t\t\t}\n\t\t},\n\t\t// 更新用户发布信息\n\t\tupdateList(data){\n\t\t\t// 第一种，直接追加\n\t\t\tlet index = this.tabBars.findIndex((val)=>{\n\t\t\t\treturn val.id === data.post_class_id;\n\t\t\t})\n\t\t\tif (index > -1) {\n\t\t\t\tthis.newslist[index].list.push(this.__format(data));\n\t\t\t}\n\t\t\t// 第二种，重新加载当前post_class_id信息\n\t\t},\n\t\t// 获取文章分类\n\t\tasync getNav(){\n\t\t\tlet [err,res] =await this.$http.get('/postclass');\n\t\t\tif (!this.$http.errorCheck(err,res)) return;\n\t\t\tlet list = res.data.data.list;\n\t\t\tlet arr = [];\n\t\t\tlet arr2 = [];\n\t\t\tfor (let i = 0; i < list.length; i++) {\n\t\t\t\tarr.push({\n\t\t\t\t\tid:list[i].id,\n\t\t\t\t\tname:list[i].classname\n\t\t\t\t})\n\t\t\t\tarr2.push({\n\t\t\t\t\tloadtext:\"上拉加载更多\",\n\t\t\t\t\tlist:[],\n\t\t\t\t\tpage:1,\n\t\t\t\t\tfirstload:false\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.tabBars = arr;\n\t\t\tthis.newslist = arr2;\n\t\t\tthis.tabBars.length > 0 && this.getList();\n\t\t},\n\t\t// 获取指定列表\n\t\tasync getList(){\n\t\t\tlet currentIndex = this.tabIndex;\n\t\t\tlet url = `/postclass/${this.tabBars[this.tabIndex].id}/post/${this.newslist[this.tabIndex].page}`;\n\t\t\tlet [err,res] = await this.$http.get(url,{},{token:true});\n\t\t\tlet error = this.$http.errorCheck(err,res,()=>{\n\t\t\t\tthis.newslist[currentIndex].loadtext=\"上拉加载更多\";\n\t\t\t},()=>{\n\t\t\t\tthis.newslist[currentIndex].loadtext=\"上拉加载更多\";\n\t\t\t});\n\t\t\tconsole.log(res)\n\t\t\tif (!error) return;\n\t\t\tlet arr = [];\n\t\t\tlet list = res.data.data.list;\n\t\t\tfor (let i = 0; i < list.length; i++) {\n\t\t\t\tarr.push(this.__format(list[i]));\n\t\t\t}\n\t\t\tthis.newslist[currentIndex].list = this.newslist[currentIndex].page > 1 ? this.newslist[currentIndex].list.concat(arr) : arr;\n\t\t\tthis.newslist[currentIndex].firstload = true;\n\t\t\tif (list.length < 10) {\n\t\t\t\tthis.newslist[currentIndex].loadtext=\"没有更多数据了\";\n\t\t\t}else{\n\t\t\t\tthis.newslist[currentIndex].loadtext=\"上拉加载更多\";\n\t\t\t}\n\t\t\treturn;\n\t\t},\n\t\t// 格式转化\n\t\t__format(item){\n\t\t\treturn {\n\t\t\t\tuserid:item.user.id,\n\t\t\t\tuserpic:item.user.userpic,\n\t\t\t\tusername:item.user.username,\n\t\t\t\tisguanzhu:!!item.user.fens.length,\n\t\t\t\tid:item.id,\n\t\t\t\ttitle:item.title,\n\t\t\t\ttype:\"img\", // img:图文,video:视频\n\t\t\t\ttitlepic:item.titlepic,\n\t\t\t\tvideo:false,\n\t\t\t\tpath:item.path,\n\t\t\t\tshare:!!item.share,\n\t\t\t\tinfonum:{\n\t\t\t\t\tindex:(item.support.length>0) ? (item.support[0].type+1) : 0,//0:没有操作，1:顶,2:踩；\n\t\t\t\t\tdingnum:item.ding_count,\n\t\t\t\t\tcainum:item.cai_count,\n\t\t\t\t},\n\t\t\t\tcommentnum:item.comment_count,\n\t\t\t\tsharenum:item.sharenum,\n\t\t\t}\n\t\t},\n\t\t// 上拉加载\n\t\tloadmore(index){\n\t\t\tif(this.newslist[index].loadtext!=\"上拉加载更多\"){ return; }\n\t\t\t// 修改状态\n\t\t\tthis.newslist[index].loadtext=\"加载中...\";\n\t\t\tthis.newslist[this.tabIndex].page++;\n\t\t\tthis.getList();\n\t\t},\n\t\t// tabbar点击事件\n\t\ttabtap(index){\n\t\t\tthis.tabIndex=index;\n\n\t\t\tthis.getList();\n\n\t\t},\n\t\t// 滑动事件\n\t\ttabChange(e){\n\t\t\tthis.tabIndex=e.detail.current;\n\t\t\tthis.getList();\n\t\t}\n\t},\n}\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=95286766&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\软件\\\\HBuilderX.2.0.2.20190614-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\软件\\\\HBuilderX.2.0.2.20190614-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('95286766', component.options)\n    } else {\n      api.reload('95286766', component.options)\n    }\n    module.hot.accept(\"./index.vue?vue&type=template&id=95286766&\", function () {\n      api.rerender('95286766', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"E:/笔记/HBuilderProjects/【前端完整代码】仿糗事百科/pages/index/index.vue\"\nexport default component.exports","import mod from \"-!D:\\\\软件\\\\HBuilderX.2.0.2.20190614-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\软件\\\\HBuilderX.2.0.2.20190614-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\软件\\\\HBuilderX.2.0.2.20190614-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\软件\\\\HBuilderX.2.0.2.20190614-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\软件\\\\HBuilderX.2.0.2.20190614-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\软件\\\\HBuilderX.2.0.2.20190614-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\软件\\\\HBuilderX.2.0.2.20190614-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\软件\\\\HBuilderX.2.0.2.20190614-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\软件\\\\HBuilderX.2.0.2.20190614-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\软件\\\\HBuilderX.2.0.2.20190614-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"","export * from \"-!D:\\\\软件\\\\HBuilderX.2.0.2.20190614-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\软件\\\\HBuilderX.2.0.2.20190614-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\软件\\\\HBuilderX.2.0.2.20190614-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\软件\\\\HBuilderX.2.0.2.20190614-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\软件\\\\HBuilderX.2.0.2.20190614-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=template&id=95286766&\""],"sourceRoot":""}