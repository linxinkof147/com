(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index"],{"06cc":function(t,e,n){"use strict";var i=n("6deb"),a=n.n(i);a.a},"08ca":function(t,e,n){"use strict";var i=n("ae1b"),a=n.n(i);a.a},1306:function(t,e,n){"use strict";n.r(e);var i=n("27db"),a=n("45d9");for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);n("4ffb");var s=n("2877"),u=Object(s["a"])(a["default"],i["a"],i["b"],!1,null,"d534b704",null);e["default"]=u.exports},"15f8":function(t,e,n){"use strict";n.r(e);var i=n("7eb6"),a=n("d81f");for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);n("526d");var s=n("2877"),u=Object(s["a"])(a["default"],i["a"],i["b"],!1,null,"bc419f96",null);e["default"]=u.exports},"27db":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"nothing u-f-ajc animated fadeIn"},[n("v-uni-image",{attrs:{src:"../../static/common/nothing.png",mode:"widthFix"}})],1)},a=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a})},"2fe2":function(t,e,n){"use strict";n.r(e);var i=n("62c2"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);e["default"]=a.a},3175:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"uni-tab-bar"},[n("uni-nav-bar",{attrs:{shadow:!1,border:!1},on:{"click-left":function(e){e=t.$handleEvent(e),t.clickLeft(e)},"click-right":function(e){e=t.$handleEvent(e),t.clickRight(e)}}},[n("template",{attrs:{slot:"left"},slot:"left"},[n("v-uni-view",{staticClass:"iconfont icon-qiandao",staticStyle:{"font-size":"22px",color:"#FF9619","margin-left":"20upx"}})],1),n("v-uni-view",{staticStyle:{display:"flex","justify-content":"center","align-items":"center","border-radius":"4px","margin-left":"-46upx",height:"60upx","margin-top":"12upx",color:"#CCCCCC",background:"#F7F7F7"},on:{click:function(e){e=t.$handleEvent(e),t.openSearch(e)}}},[n("v-uni-view",{staticClass:"iconfont icon-sousuo",staticStyle:{"margin-right":"6upx"}}),t._v("搜索糗事")],1),n("template",{attrs:{slot:"right"},slot:"right"},[n("v-uni-view",{staticClass:"icon iconfont icon-bianji1",staticStyle:{"font-size":"22px",color:"#000000"}})],1)],2),n("swiper-tab-head",{attrs:{tabBars:t.tabBars,tabIndex:t.tabIndex},on:{tabtap:function(e){e=t.$handleEvent(e),t.tabtap(e)}}}),n("v-uni-swiper",{staticClass:"swiper-box",style:t.getHeight,attrs:{current:t.tabIndex},on:{change:function(e){e=t.$handleEvent(e),t.tabChange(e)}}},t._l(t.newslist,function(e,i){return n("v-uni-swiper-item",{key:i,style:t.getHeight},[n("v-uni-scroll-view",{staticClass:"list",style:t.getHeight,attrs:{"scroll-y":""},on:{scrolltolower:function(e){e=t.$handleEvent(e),t.loadmore(i)}}},[e.list.length>0?[t._l(e.list,function(e,i){return[n("index-list",{key:i+"_0",attrs:{item:e,index:i},on:{changeevent:function(e){e=t.$handleEvent(e),t.updateData(e)}}})]}),n("load-more",{attrs:{loadtext:e.loadtext}})]:e.firstload?[n("no-thing")]:[n("v-uni-view",{staticClass:"u-f-ajc",staticStyle:{"font-size":"50upx","font-weight":"bold",color:"#CCCCCC","padding-top":"100upx"}},[t._v("Loading ...")])]],2)],1)}),1)],1)},a=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a})},"3abb":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"uni-tab-bar"},[n("v-uni-scroll-view",{staticClass:"uni-swiper-tab",style:t.scrollStyle,attrs:{"scroll-x":""}},[t._l(t.tabBars,function(e,i){return[n("v-uni-view",{key:e.id+"_0",staticClass:"swiper-tab-list",class:{active:t.tabIndex==i},style:t.scrollItemStyle,on:{click:function(e){e=t.$handleEvent(e),t.tabtap(i)}}},[t._v(t._s(e.name)+" "+t._s(e.num?e.num:"")),n("v-uni-view",{staticClass:"swiper-tab-line"})],1)]})],2)],1)},a=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a})},"3de0":function(t,e,n){},4294:function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,".uni-swiper-tab[data-v-beecc99a]{border-bottom:%?1?% solid #eee}.swiper-tab-list[data-v-beecc99a]{color:#969696;font-weight:700}.uni-tab-bar .active[data-v-beecc99a]{color:#343434}.active .swiper-tab-line[data-v-beecc99a]{border-bottom:%?6?% solid #fede33;width:%?70?%;margin:auto;border-top:%?6?% solid #fede33;border-radius:%?20?%}",""])},"45d9":function(t,e,n){"use strict";n.r(e);var i=n("3de0"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);e["default"]=a.a},"4a4a":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,'.uni-navbar__content[data-v-62228ee0]{display:block;position:relative;width:100%;background-color:#fff;overflow:hidden}.uni-navbar__content uni-view[data-v-62228ee0]{line-height:44px}.uni-navbar__header[data-v-62228ee0]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;width:100%;height:44px;line-height:44px;font-size:16px}.uni-navbar__header-btns[data-v-62228ee0]{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;width:%?120?%;padding:0 %?12?%}.uni-navbar__header-btns[data-v-62228ee0]:first-child{padding-left:0}.uni-navbar__header-btns[data-v-62228ee0]:last-child{width:%?60?%}.uni-navbar__header-container[data-v-62228ee0]{width:100%;margin:0 %?10?%}.uni-navbar__header-container-inner[data-v-62228ee0]{font-size:%?30?%;text-align:center;padding-right:%?60?%}.uni-navbar__placeholder-view[data-v-62228ee0]{height:44px}.uni-navbar--fixed[data-v-62228ee0]{position:fixed;z-index:998}.uni-navbar--shadow[data-v-62228ee0]{-webkit-box-shadow:0 1px 6px #ccc;box-shadow:0 1px 6px #ccc}.uni-navbar--border[data-v-62228ee0]:after{position:absolute;z-index:3;bottom:0;left:0;right:0;height:1px;content:"";-webkit-transform:scaleY(.5);-ms-transform:scaleY(.5);transform:scaleY(.5);background-color:#c8c7cc}',""])},"4ffb":function(t,e,n){"use strict";var i=n("f6b7"),a=n.n(i);a.a},"526d":function(t,e,n){"use strict";var i=n("9456"),a=n.n(i);a.a},"5ef4":function(t,e,n){"use strict";n.r(e);var i=n("3abb"),a=n("e938");for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);n("74c6");var s=n("2877"),u=Object(s["a"])(a["default"],i["a"],i["b"],!1,null,"beecc99a",null);e["default"]=u.exports},"613d":function(t,e,n){"use strict";n.r(e);var i=n("3175"),a=n("db39");for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);var s=n("2877"),u=Object(s["a"])(a["default"],i["a"],i["b"],!1,null,"bf67b884",null);e["default"]=u.exports},"62c2":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n("15f8")),a=r(n("c45d"));function r(t){return t&&t.__esModule?t:{default:t}}var s={name:"uni-nav-bar",components:{uniStatusBar:i.default,uniIcon:a.default},props:{title:{type:String,default:""},leftText:{type:String,default:""},rightText:{type:String,default:""},leftIcon:{type:String,default:""},rightIcon:{type:String,default:""},fixed:{type:[Boolean,String],default:!1},color:{type:String,default:"#000000"},backgroundColor:{type:String,default:"#FFFFFF"},statusBar:{type:[Boolean,String],default:!1},shadow:{type:[String,Boolean],default:!0},border:{type:[String,Boolean],default:!0}},methods:{onClickLeft:function(){this.$emit("click-left")},onClickRight:function(){this.$emit("click-right")}}};e.default=s},"65a7":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{loadtext:String}};e.default=i},"66ce":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("a34a"));function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e){return o(t)||u(t,e)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function u(t,e){var n=[],i=!0,a=!1,r=void 0;try{for(var s,u=t[Symbol.iterator]();!(i=(s=u.next()).done);i=!0)if(n.push(s.value),e&&n.length===e)break}catch(o){a=!0,r=o}finally{try{i||null==u["return"]||u["return"]()}finally{if(a)throw r}}return n}function o(t){if(Array.isArray(t))return t}function c(t,e,n,i,a,r,s){try{var u=t[r](s),o=u.value}catch(c){return void n(c)}u.done?e(o):Promise.resolve(o).then(i,a)}function l(t){return function(){var e=this,n=arguments;return new Promise(function(i,a){var r=t.apply(e,n);function s(t){c(r,i,a,s,u,"next",t)}function u(t){c(r,i,a,s,u,"throw",t)}s(void 0)})}}var d={props:{item:Object,index:Number},methods:{openSpace:function(){uni.navigateTo({url:"../../pages/user-space/user-space?userid="+this.item.userid})},guanzhu:function(){var t=l(i.default.mark(function t(){var e,n,a,s,u;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$http.post("/follow",{follow_id:this.item.userid},{token:!0,checkToken:!0,checkAuth:!0});case 3:if(e=t.sent,n=r(e,2),a=n[0],s=n[1],this.$http.errorCheck(a,s)){t.next=9;break}return t.abrupt("return");case 9:uni.showToast({title:"关注成功"}),u={type:"guanzhu",userid:this.item.userid,data:!0},this.$emit("changeevent",u),uni.$emit("updateData",u),t.next=18;break;case 15:return t.prev=15,t.t0=t["catch"](0),t.abrupt("return");case 18:case"end":return t.stop()}},t,this,[[0,15]])}));function e(){return t.apply(this,arguments)}return e}(),caozuo:function(){var t=l(i.default.mark(function t(e){var n,a,s,u,o,c;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,n="ding"===e?1:2,this.item.infonum.index!==n){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,this.$http.post("/support",{post_id:this.item.id,type:n-1},{token:!0,checkToken:!0,checkAuth:!0});case 6:if(a=t.sent,s=r(a,2),u=s[0],o=s[1],this.$http.errorCheck(u,o)){t.next=12;break}return t.abrupt("return");case 12:uni.showToast({title:1==n?"顶成功":"踩成功"}),c={type:"support",post_id:this.item.id,do:e},this.$emit("changeevent",c),uni.$emit("updateData",c),t.next=21;break;case 18:return t.prev=18,t.t0=t["catch"](0),t.abrupt("return");case 21:case"end":return t.stop()}},t,this,[[0,18]])}));function e(e){return t.apply(this,arguments)}return e}(),opendetail:function(){uni.navigateTo({url:"../../pages/detail/detail?detailData="+JSON.stringify(this.item)}),this.User.addHistoryList(this.item)}}};e.default=d},6880:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"index-list animated fadeIn fast"},[n("v-uni-view",{staticClass:"index-list1 u-f-ac u-f-jsb"},[n("v-uni-view",{staticClass:"u-f-ac"},[n("v-uni-image",{attrs:{src:t.item.userpic,mode:"widthFix","lazy-load":""},on:{click:function(e){e.stopPropagation(),e=t.$handleEvent(e),t.openSpace(e)}}}),t._v(t._s(t.item.username))],1),n("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:!t.item.isguanzhu,expression:"!item.isguanzhu"}],staticClass:"u-f-ac",on:{click:function(e){e=t.$handleEvent(e),t.guanzhu(e)}}},[n("v-uni-view",{staticClass:"icon iconfont icon-zengjia"}),t._v("关注")],1)],1),n("v-uni-view",{staticClass:"index-list2",on:{click:function(e){e=t.$handleEvent(e),t.opendetail(e)}}},[t._v(t._s(t.item.title))]),n("v-uni-view",{staticClass:"index-list3 u-f-ajc",on:{click:function(e){e=t.$handleEvent(e),t.opendetail(e)}}},[t.item.titlepic?[n("v-uni-image",{staticStyle:{height:"350upx"},attrs:{src:t.item.titlepic,mode:"aspectFill","lazy-load":""}})]:t._e(),"video"==t.item.type?[n("v-uni-view",{staticClass:"icon iconfont icon-bofang index-list-play"}),n("v-uni-view",{staticClass:"index-list-playinfo"},[t._v(t._s(t.item.playnum)+"次播放 "+t._s(t.item.long))])]:t._e()],2),n("v-uni-view",{staticClass:"index-list4 u-f-ac u-f-jsb"},[n("v-uni-view",{staticClass:"u-f-ac"},[n("v-uni-view",{staticClass:"u-f-ac",class:{active:1==t.item.infonum.index},on:{click:function(e){e=t.$handleEvent(e),t.caozuo("ding")}}},[n("v-uni-view",{staticClass:"icon iconfont icon-icon_xiaolian-mian"}),t._v(t._s(t.item.infonum.dingnum))],1),n("v-uni-view",{staticClass:"u-f-ac",class:{active:2==t.item.infonum.index},on:{click:function(e){e=t.$handleEvent(e),t.caozuo("cai")}}},[n("v-uni-view",{staticClass:"icon iconfont icon-kulian"}),t._v(t._s(t.item.infonum.cainum))],1)],1),n("v-uni-view",{staticClass:"u-f-ac"},[n("v-uni-view",{staticClass:"u-f-ac"},[n("v-uni-view",{staticClass:"icon iconfont icon-pinglun1"}),t._v(t._s(t.item.commentnum))],1),n("v-uni-view",{staticClass:"u-f-ac"},[n("v-uni-view",{staticClass:"icon iconfont icon-zhuanfa"}),t._v(t._s(t.item.sharenum))],1)],1)],1)],1)},a=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a})},"6b83":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"load-more"},[t._v(t._s(t.loadtext))])},a=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a})},"6deb":function(t,e,n){var i=n("f1cb");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("659bd3a2",i,!0,{sourceMap:!1,shadowMode:!1})},"74c6":function(t,e,n){"use strict";var i=n("dd03"),a=n.n(i);a.a},"7a6b":function(t,e,n){"use strict";n.r(e);var i=n("66ce"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);e["default"]=a.a},"7a8c":function(t,e,n){var i=n("fc9b");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("ca680df2",i,!0,{sourceMap:!1,shadowMode:!1})},"7eb6":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"uni-status-bar",style:{height:t.statusBarHeight,background:t.bgcolor}},[t._t("default")],2)},a=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a})},9456:function(t,e,n){var i=n("9823");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("dcbe85f4",i,!0,{sourceMap:!1,shadowMode:!1})},9773:function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,".nothing[data-v-d534b704]{background:#fff;position:absolute;top:0;left:0;right:0;bottom:0}.nothing uni-image[data-v-d534b704]{width:50%}",""])},9823:function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,".uni-status-bar[data-v-bc419f96]{display:block;width:100%;height:20px;height:0}",""])},a410:function(t,e,n){"use strict";n.r(e);var i=n("65a7"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);e["default"]=a.a},ae1b:function(t,e,n){var i=n("4a4a");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("7dbb7f02",i,!0,{sourceMap:!1,shadowMode:!1})},c2e0:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{tabBars:Array,tabIndex:Number,scrollStyle:{type:String,default:""},scrollItemStyle:{type:String,default:""}},methods:{tabtap:function(t){this.$emit("tabtap",t)}}};e.default=i},d284:function(t,e,n){"use strict";n.r(e);var i=n("f7fd"),a=n("2fe2");for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);n("08ca");var s=n("2877"),u=Object(s["a"])(a["default"],i["a"],i["b"],!1,null,"62228ee0",null);e["default"]=u.exports},d81f:function(t,e,n){"use strict";n.r(e);var i=n("dbb8"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);e["default"]=a.a},db39:function(t,e,n){"use strict";n.r(e);var i=n("f884"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);e["default"]=a.a},dbb8:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=uni.getSystemInfoSync().statusBarHeight+"px",a={name:"uni-status-bar",props:{bgcolor:{type:String,default:""}},data:function(){return{statusBarHeight:i}}};e.default=a},dd03:function(t,e,n){var i=n("4294");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("156cddf0",i,!0,{sourceMap:!1,shadowMode:!1})},e778:function(t,e,n){"use strict";var i=n("7a8c"),a=n.n(i);a.a},e938:function(t,e,n){"use strict";n.r(e);var i=n("c2e0"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);e["default"]=a.a},f1cb:function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,".load-more[data-v-00b145ae]{text-align:center;color:#aaa;padding:%?15?%}",""])},f326:function(t,e,n){"use strict";n.r(e);var i=n("6880"),a=n("7a6b");for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);n("e778");var s=n("2877"),u=Object(s["a"])(a["default"],i["a"],i["b"],!1,null,"52bd23c7",null);e["default"]=u.exports},f6b7:function(t,e,n){var i=n("9773");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("5b438293",i,!0,{sourceMap:!1,shadowMode:!1})},f7fd:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"uni-navbar"},[n("v-uni-view",{staticClass:"uni-navbar__content",class:{"uni-navbar--fixed":!!t.fixed,"uni-navbar--shadow":!!t.border,"uni-navbar--border":!!t.border},staticStyle:{"z-index":"9999"},style:{"background-color":t.backgroundColor}},[n("v-uni-view",{staticClass:"uni-navbar__header",style:{color:t.color}},[n("v-uni-view",{staticClass:"uni-navbar__header-btns",on:{click:function(e){e=t.$handleEvent(e),t.onClickLeft(e)}}},[t.leftIcon.length?n("v-uni-view",[n("uni-icon",{attrs:{type:t.leftIcon,color:t.color,size:"24"}})],1):t._e(),t.leftText.length?n("v-uni-view",{staticClass:"uni-navbar-btn-text",class:{"uni-navbar-btn-icon-left":!t.leftIcon.length}},[t._v(t._s(t.leftText))]):t._e(),t._t("left")],2),n("v-uni-view",{staticClass:"uni-navbar__header-container"},[t.title.length?n("v-uni-view",{staticClass:"uni-navbar__header-container-inner"},[t._v(t._s(t.title))]):t._e(),t._t("default")],2),n("v-uni-view",{staticClass:"uni-navbar__header-btns",on:{click:function(e){e=t.$handleEvent(e),t.onClickRight(e)}}},[t.rightIcon.length?n("v-uni-view",[n("uni-icon",{attrs:{type:t.rightIcon,color:t.color,size:"24"}})],1):t._e(),t.rightText.length&&!t.rightIcon.length?n("v-uni-view",{staticClass:"uni-navbar-btn-text"},[t._v(t._s(t.rightText))]):t._e(),t._t("right")],2)],1)],1),t.fixed?n("v-uni-view",{staticClass:"uni-navbar__placeholder"},[n("v-uni-view",{staticClass:"uni-navbar__placeholder-view"})],1):t._e()],1)},a=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a})},f884:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=c(n("a34a")),a=c(n("d284")),r=c(n("f326")),s=c(n("5ef4")),u=c(n("fc7a")),o=c(n("1306"));function c(t){return t&&t.__esModule?t:{default:t}}function l(t,e){return v(t)||f(t,e)||d()}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function f(t,e){var n=[],i=!0,a=!1,r=void 0;try{for(var s,u=t[Symbol.iterator]();!(i=(s=u.next()).done);i=!0)if(n.push(s.value),e&&n.length===e)break}catch(o){a=!0,r=o}finally{try{i||null==u["return"]||u["return"]()}finally{if(a)throw r}}return n}function v(t){if(Array.isArray(t))return t}function h(t,e,n,i,a,r,s){try{var u=t[r](s),o=u.value}catch(c){return void n(c)}u.done?e(o):Promise.resolve(o).then(i,a)}function p(t){return function(){var e=this,n=arguments;return new Promise(function(i,a){var r=t.apply(e,n);function s(t){h(r,i,a,s,u,"next",t)}function u(t){h(r,i,a,s,u,"throw",t)}s(void 0)})}}var b={components:{indexList:r.default,swiperTabHead:s.default,loadMore:u.default,noThing:o.default,uniNavBar:a.default},data:function(){return{tabIndex:0,tabBars:[],newslist:[]}},computed:{getHeight:function(){}},onLoad:function(){this.getNav(),uni.$on("updateData",this.updateData)},onNavigationBarSearchInputClicked:function(){uni.navigateTo({url:"../search/search"})},onNavigationBarButtonTap:function(t){switch(t.index){case 1:this.User.navigate({url:"../add-input/add-input?postclass="+JSON.stringify(this.tabBars)});break}},methods:{clickLeft:function(){console.log("左边事件")},clickRight:function(){this.User.navigate({url:"../add-input/add-input?postclass="+JSON.stringify(this.tabBars)})},openSearch:function(){uni.navigateTo({url:"../search/search"})},updateData:function(t){switch(t.type){case"guanzhu":this.updateGuanZhu(t);break;case"support":this.updateSupport(t);break;case"updateList":this.updateList(t);break;case"updateComment":this.updateComment(t);break}},updateComment:function(t){var e=this.newslist[this.tabIndex].list.find(function(e){return e.id===t.post_id});e&&e.commentnum++},updateGuanZhu:function(t){this.newslist[this.tabIndex].list.forEach(function(e,n){e.userid===t.userid&&(e.isguanzhu=t.data)})},updateSupport:function(t){var e=this.newslist[this.tabIndex].list.find(function(e){return e.id===t.post_id});if(e){var n=e.infonum.index;e.infonum.index="ding"==t.do?1:2,0!==n&&(1==n?e.infonum.dingnum--:e.infonum.cainum--),0!==e.infonum.index&&(1==e.infonum.index?e.infonum.dingnum++:e.infonum.cainum++)}},updateList:function(t){var e=this.tabBars.findIndex(function(e){return e.id===t.post_class_id});e>-1&&this.newslist[e].list.push(this.__format(t))},getNav:function(){var t=p(i.default.mark(function t(){var e,n,a,r,s,u,o,c;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get("/postclass");case 2:if(e=t.sent,n=l(e,2),a=n[0],r=n[1],this.$http.errorCheck(a,r)){t.next=8;break}return t.abrupt("return");case 8:for(s=r.data.data.list,u=[],o=[],c=0;c<s.length;c++)u.push({id:s[c].id,name:s[c].classname}),o.push({loadtext:"上拉加载更多",list:[],page:1,firstload:!1});this.tabBars=u,this.newslist=o,this.tabBars.length>0&&this.getList();case 15:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getList:function(){var t=p(i.default.mark(function t(){var e,n,a,r,s,u,o,c,d,f,v=this;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.tabIndex,n="/postclass/".concat(this.tabBars[this.tabIndex].id,"/post/").concat(this.newslist[this.tabIndex].page),t.next=4,this.$http.get(n,{},{token:!0});case 4:if(a=t.sent,r=l(a,2),s=r[0],u=r[1],o=this.$http.errorCheck(s,u,function(){v.newslist[e].loadtext="上拉加载更多"},function(){v.newslist[e].loadtext="上拉加载更多"}),console.log(u),o){t.next=12;break}return t.abrupt("return");case 12:for(c=[],d=u.data.data.list,f=0;f<d.length;f++)c.push(this.__format(d[f]));return this.newslist[e].list=this.newslist[e].page>1?this.newslist[e].list.concat(c):c,this.newslist[e].firstload=!0,d.length<10?this.newslist[e].loadtext="没有更多数据了":this.newslist[e].loadtext="上拉加载更多",t.abrupt("return");case 19:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),__format:function(t){return{userid:t.user.id,userpic:t.user.userpic,username:t.user.username,isguanzhu:!!t.user.fens.length,id:t.id,title:t.title,type:"img",titlepic:t.titlepic,video:!1,path:t.path,share:!!t.share,infonum:{index:t.support.length>0?t.support[0].type+1:0,dingnum:t.ding_count,cainum:t.cai_count},commentnum:t.comment_count,sharenum:t.sharenum}},loadmore:function(t){"上拉加载更多"==this.newslist[t].loadtext&&(this.newslist[t].loadtext="加载中...",this.newslist[this.tabIndex].page++,this.getList())},tabtap:function(t){this.tabIndex=t},tabChange:function(t){this.tabIndex=t.detail.current,this.getList()}}};e.default=b},fc7a:function(t,e,n){"use strict";n.r(e);var i=n("6b83"),a=n("a410");for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);n("06cc");var s=n("2877"),u=Object(s["a"])(a["default"],i["a"],i["b"],!1,null,"00b145ae",null);e["default"]=u.exports},fc9b:function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,".index-list[data-v-52bd23c7]{padding:%?20?%;border-bottom:%?1?% solid #eee}.index-list1>uni-view[data-v-52bd23c7]:first-child{color:#999}.index-list1>uni-view:first-child uni-image[data-v-52bd23c7]{width:%?85?%;height:%?85?%;border-radius:100%;margin-right:%?10?%}.index-list1>uni-view[data-v-52bd23c7]:last-child{background:#f4f4f4;border-radius:%?5?%;padding:0 %?10?%}.index-list2[data-v-52bd23c7]{padding-top:%?15?%;font-size:%?32?%}.index-list3[data-v-52bd23c7]{position:relative;padding-top:%?15?%}.index-list3>uni-image[data-v-52bd23c7]{width:100%;border-radius:%?20?%}.index-list4 uni-view[data-v-52bd23c7]{color:#999}.index-list4[data-v-52bd23c7]{padding:%?15?% 0}.index-list4>uni-view>uni-view[data-v-52bd23c7]:first-child,.index-list4>uni-view>uni-view>uni-view[data-v-52bd23c7]{margin-right:%?10?%}.index-list-play[data-v-52bd23c7]{position:absolute;font-size:%?140?%;color:#fff}.index-list-playinfo[data-v-52bd23c7]{position:absolute;background:rgba(51,51,51,.72);color:#fff;bottom:%?8?%;right:%?8?%;border-radius:%?40?%;font-size:%?22?%;padding:0 %?12?%}.index-list4 .active[data-v-52bd23c7],.index-list4 .active>uni-view[data-v-52bd23c7]{color:#c5f61c}",""])}}]);